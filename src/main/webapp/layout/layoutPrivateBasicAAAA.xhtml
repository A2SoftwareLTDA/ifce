<?xml version="1.0" encoding="UTF-8"?>
<!-- 
	Copyright 2013-2014 J7 Soluções Inteligentes.
	by Edivando Alves
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="#{localeBean.locale}" 
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<f:view locale="#{localeView.locale}" contentType="text/html">
<h:head>
	<ui:include src="/modulo/system/moduloPageHeader.xhtml" />
</h:head>
<h:body styleClass="theme-frost main-menu-animated main-navbar-fixed main-menu-fixed dont-animate-mm-content-sm animate-mm-md animate-mm-lg mmc">
	<script>var init = [];</script>
	<div id="main-wrapper">
		<ui:include src="/modulo/system/moduloMenuTop.xhtml"/>
		<ui:include src="/modulo/system/moduloMenuLateral.xhtml"/>
		<div id="content-wrapper">
			<h:form id="formAll">
				<ul class="breadcrumb breadcrumb-page">
					<li class="breadcrumb-label text-light-gray">Você esta aqui: </li>
					<li class="active"><a href="agendamentos.html">#{headerTitle}</a></li>
					<ui:insert name="breadcrumb"/>
				</ul>
				<div class="page-header">
					<div class="row">
						<!-- Page header, center on small screens -->
						<h1 class="col-xs-12 col-sm-3 text-center text-left-sm">
							<i class="fa #{headerIcon} page-header-icon"></i>&nbsp;&nbsp;#{headerTitle}
							<ui:insert name="pageHeaderTitle"/>
						</h1>
		
						<div class="col-xs-12 col-sm-9">
							<div class="row">
								<div class="pull-right col-xs-12 col-sm-auto">
									<ui:insert name="pageHeader"/>
									<p:commandLink update="@form" actionListener="#{view.form}" styleClass="btn btn-primary" rendered="#{!view.form and btnNew}">
										<f:setPropertyActionListener target="#{servicosView.entity}" value=""/>
										<i class="fa fa-plus" />
							 			Novo
									</p:commandLink>
								</div>
							</div>
						</div>
					</div>
				</div>
				<p:growl id="growl" for="growl" showDetail="true" globalOnly="true" escape="false"/>
				<p:messages id="messages" for="messages" showDetail="false" showSummary="true" closable="true" />
				
				<p:dataTable id="#{id}Table" var="entity" value="#{view.entitys}" 
					paginator="true" rows="20" paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
					emptyMessage="#{emptyMessage}" rendered="#{!view.form}" resizableColumns="true" paginatorPosition="top">
				
					<p:column width="40" rendered="#{rowToggler}" >
		            	<p:rowToggler/>
		        	</p:column>
				
					<p:column width="120" styleClass="text-center" rendered="#{btnEdit or btnRemove}" >
		 				<p:commandLink update=":formAll" actionListener="#{view.form}" styleClass="btn btn-outline" rendered="#{btnEdit}" >
				 			<f:setPropertyActionListener target="#{view.entity}" value="#{entity}"/>
				 			<i class="fa fa-edit text-info" />
						</p:commandLink>
						&nbsp;
						<p:commandLink actionListener="#{view.remove(entity)}" update=":formAll" styleClass="btn btn-outline" rendered="#{btnRemove}" >
							<i class="fa fa-trash-o text-danger" />
					        <p:confirm header="Confime" message="Deseja realmente exlcuir?" icon="ui-icon-alert" />
					    </p:commandLink>
		 
					    <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
					        <p:commandButton value="Sim" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
					        <p:commandButton value="Não" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
					    </p:confirmDialog>
					</p:column>
					
					<ui:insert name="contentGrid" />
				</p:dataTable>
	
				<p:panel rendered="#{view.form}" styleClass="form-horizontal">
					<p:focus />
					<f:facet name="header">
						<span class="lead">
							<i class="fa #{headerIcon}"/> #{formTitle}
						</span>
						<p:commandLink  action="#{view.grid}" update=":formAll" styleClass="pull-right btn btn-danger btn-sm" title="Back" immediate="true"
							rendered="#{btnBack}" >
							<i class="fa fa-reply-all" />
							Back
						</p:commandLink>
						<p:commandLink  action="#{view.save}" update=":formAll" styleClass="pull-right btn btn-info btn-sm" title="Salvar"
							style="margin-right: 10px;" rendered="#{btnSave}" >
							<i class="fa fa-save" />
							Salvar
						</p:commandLink>
					</f:facet>
					
					<ui:insert name="contentForm" />
						
				</p:panel>
			</h:form>
		</div>
		<div id="main-menu-bg"></div>
		<div class="menu-content text-center">©2016 Target - AbouTTi. Todos os Direitos Reservados.</div>
	</div>
	
	<ui:insert name="footerContent"/>

	<h:form>
		<p:remoteCommand name="logoff" action="#{loginView.logoff}" />
	</h:form>
	
	<h:outputScript library="js" name="bootstrap.min.js" />
	<h:outputScript library="js" name="pixel-admin.min.js" />
	
	<script type="text/javascript">
		init.push(function () {
			// Javascript code here
		})
		window.PixelAdmin.start(init);
	</script>
</h:body>
</f:view>
</html>
